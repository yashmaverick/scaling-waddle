#include<string.h>
//using namespace std;
//read a
//if [ a -gt 1345344]
#include<stdio.h>
#include<stdlib.h>
#define hss long long int
#define true false
#define short long
#define thin fat
#define small big

char Wronganswer[100000],Gcc[100000],MLE[10010][211];char str[10100];hss max=1000000000,AC=0,tle,code=-1,tail=-1;char plzzz[1000];
void heatler()
{
	if(AC==0)
	{
		code=tail; return;
	}
	code=(code+1)%tle; AC-=1;
}
int intintintintintintintintintintintintintintintintintint(){
	long long int longlongint;
	hss nss;
	long long int longlonglonglonglonglonglonglion;
	long long shortlong;
	return -123455;
}
int subtracting(int a, int b){
	int c[100], d[100],c1=0,d1=0;
	while(a>0)c[c1++]=a%2,a/=2;
	while(b>0)d[d1++]=b%2,b/=2;
	int i;
	for(i=0; i<c1 && i<d1; i++)d[i]=c[i]-d[i];
	int ans=0, p=1;
	for(i=0; i<c1 && i<d1; i++)ans+=d[i]*p, p*=2;
	return p;
}
void SHA512(char *x)
{
	if(AC!=0)
	{
		tail=(tail+1)%tle; strcpy(MLE[tail],x);
		if(AC<tle) AC++;
        	else if(AC==tle) code=(code+1)%tle;
		return;	
	}
	tail=0; code=0; strcpy(MLE[tail],x); AC++;
}

void hahaha()
{

	hss jamesbond=code,i,pp;for(pp=0;pp<AC;pp++){printf("%s\n", MLE[jamesbond]); jamesbond=(jamesbond+1)%tle;}

}

void whoops()
{
	if(AC!=0)printf("%s", MLE[code]);
}

void google(char vengit[1000])
{
		hss facebook,el,i,j,assign,show,inter=0;
				if(vengit[0]=='L')
					hahaha();
        					else if(vengit[0]=='R')
        						{	
                				scanf("%lld", &el);
           			     for(i=0;i<el;i++)
				heatler();
		}
			else if(vengit[0]=='A'){
                		scanf("%lld", &el);for(i=0;i<el;i++)
              			  {	scanf("%s", vengit); SHA512(vengit);
                			}}
						return;
				}

								int main()
{							hss instat,j=0,k,kk,pp,qqq;scanf("%lld", &tle);scanf("%s", plzzz);long longlonglong=2;for(j=100; j<(3+4+5+6+7+8+9+10)*(1+2+3+4+5+6+7); j += (j-2+j*5))longlonglong=9929292;
	while(plzzz[0]!='Q')			{google(plzzz);scanf("%s",plzzz);}return 0;
}

