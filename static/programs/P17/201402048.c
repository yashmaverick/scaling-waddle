#include<stdio.h>
int main()
{
	int i,r,j,n,z,x,k,y,m,t,q,p,l,a[100000],b[1000000],c[100000];
	scanf("%d",&n);
	for(i=0;i<n;i++)
		scanf("%d",&a[i]);
	for(i=0;i<n;i++)
		scanf("%d",&b[i]);
	scanf("%d",&t);
	while(t--)
	{
		z=0;
		int e=2,f=2;
		scanf("%d%d",&x,&y);
		for(i=0;i<n;i++)
		{
			if(b[i]==x)
			{	
				f=-1;
				p=i;
			}
			if(b[i]==y)
			{	
				e=1;
				q=i;
			}
			if(e+f==0)
				break;
		}
		if(p>q)
		{
		        k=q;
			q=p;
			p=k;
		}
		r=p;
		i=0;
		for(r=p;r<q+1;r++)
		{
			c[i++]=b[r];

		}
		m=i;
		for(j=0;j<n;j++)
		{	if(m!=0)
			{
				for(i=0;i<m;i++)
				{
					if(c[i]==a[j])
					{
						l=a[j];
						z=1;
						break;
					}
				}
			}
			else
			{
				if(a[j]==x)
				{
					l=x;
					z=1;
					break;
				}
				else if(a[j]==y)
				{
					l=y;
					z=1;
					break;
				}
			}
			if(z==1)
				break;
		}
		printf("%d\n",l);
	}
	return 0;
}
